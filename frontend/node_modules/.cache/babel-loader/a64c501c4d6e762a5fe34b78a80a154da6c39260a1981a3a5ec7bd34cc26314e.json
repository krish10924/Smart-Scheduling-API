{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import TaskForm from\"./components/TaskForm\";import ScheduleResult from\"./components/ScheduleResult\";import\"./index.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[tasks,setTasks]=useState([]);const[recommendedOrder,setRecommendedOrder]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(\"\");const handleAddTask=task=>{setTasks([...tasks,task]);};const handleDeleteTask=index=>{if(window.confirm(\"Delete task \\\"\".concat(tasks[index].title,\"\\\"?\"))){setTasks(tasks.filter((_,i)=>i!==index));}};const handleDependencyChange=(taskIndex,depTitle,checked)=>{setTasks(prevTasks=>{const updatedTasks=[...prevTasks];const deps=new Set(updatedTasks[taskIndex].dependencies);if(checked)deps.add(depTitle);else deps.delete(depTitle);updatedTasks[taskIndex].dependencies=Array.from(deps);return updatedTasks;});};const handleSchedule=async()=>{setLoading(true);setError(\"\");try{const response=await axios.post(\"https://smart-scheduling-api-2.onrender.com/api/v1/projects/123/schedule\",{tasks});setRecommendedOrder(response.data.recommendedOrder);}catch(_unused){setError(\"Failed to generate schedule. Please try again.\");}setLoading(false);};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-lg bg-white rounded-2xl shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-center mb-4 text-gray-800\",children:\"\\uD83E\\uDDE0 Smart Task Scheduler\"}),/*#__PURE__*/_jsx(TaskForm,{onAddTask:handleAddTask}),tasks.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold mb-2\",children:\"Current Tasks:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-none ml-0 space-y-2\",children:tasks.map((t,i)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex flex-col bg-gray-100 p-2 rounded-lg hover:bg-gray-200 transition\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:t.title}),\" \\u2014 \",t.estimatedHours,\"h (Due \",t.dueDate,\")\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteTask(i),className:\"text-red-600 hover:text-red-800 font-bold\",title:\"Delete task\",children:\"\\u274C\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-sm text-gray-600\",children:\"Dependencies:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2 mt-1\",children:tasks.filter(task=>task.title!==t.title).map((task,idx)=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:t.dependencies.includes(task.title),onChange:e=>handleDependencyChange(i,task.title,e.target.checked)}),task.title]},idx))})]})]},i))})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSchedule,disabled:loading||tasks.length===0,className:\"mt-4 w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-xl transition-all\",children:loading?\"Generating...\":\"Generate Schedule\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 mt-2\",children:error}),recommendedOrder.length>0&&/*#__PURE__*/_jsx(ScheduleResult,{recommendedOrder:recommendedOrder})]})});};export default App;","map":{"version":3,"names":["React","useState","axios","TaskForm","ScheduleResult","jsx","_jsx","jsxs","_jsxs","App","tasks","setTasks","recommendedOrder","setRecommendedOrder","loading","setLoading","error","setError","handleAddTask","task","handleDeleteTask","index","window","confirm","concat","title","filter","_","i","handleDependencyChange","taskIndex","depTitle","checked","prevTasks","updatedTasks","deps","Set","dependencies","add","delete","Array","from","handleSchedule","response","post","data","_unused","className","children","onAddTask","length","map","t","estimatedHours","dueDate","onClick","idx","type","includes","onChange","e","target","disabled"],"sources":["/Users/krishnaaggarwal/Desktop/Appsian Coding Assignment/smart-scheduler-api/frontend/src/App.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { Task } from \"./types/Task\";\nimport TaskForm from \"./components/TaskForm\";\nimport ScheduleResult from \"./components/ScheduleResult\";\nimport \"./index.css\";\n\nconst App: React.FC = () => {\n  const [tasks, setTasks] = useState<Task[]>([]);\n  const [recommendedOrder, setRecommendedOrder] = useState<string[]>([]);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string>(\"\");\n\n  const handleAddTask = (task: Task) => {\n    setTasks([...tasks, task]);\n  };\n\n  const handleDeleteTask = (index: number) => {\n  if (window.confirm(`Delete task \"${tasks[index].title}\"?`)) {\n    setTasks(tasks.filter((_, i) => i !== index));\n  }\n};\n\nconst handleDependencyChange = (taskIndex: number, depTitle: string, checked: boolean) => {\n  setTasks(prevTasks => {\n    const updatedTasks = [...prevTasks];\n    const deps = new Set(updatedTasks[taskIndex].dependencies);\n\n    if (checked) deps.add(depTitle);\n    else deps.delete(depTitle);\n\n    updatedTasks[taskIndex].dependencies = Array.from(deps);\n    return updatedTasks;\n  });\n};\n\n\n  const handleSchedule = async () => {\n    setLoading(true);\n    setError(\"\");\n    \n    try {\n      const response = await axios.post(\n\"https://smart-scheduling-api-2.onrender.com/api/v1/projects/123/schedule\",\n        { tasks }\n      );\n      setRecommendedOrder(response.data.recommendedOrder);\n    } catch {\n      setError(\"Failed to generate schedule. Please try again.\");\n    }\n\n    setLoading(false);\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4\">\n      <div className=\"w-full max-w-lg bg-white rounded-2xl shadow-md p-6\">\n        <h1 className=\"text-2xl font-bold text-center mb-4 text-gray-800\">\n          üß† Smart Task Scheduler\n        </h1>\n\n        <TaskForm onAddTask={handleAddTask} />\n\n        {tasks.length > 0 && (\n          <div className=\"mt-4\">\n            <h2 className=\"text-lg font-semibold mb-2\">Current Tasks:</h2>\n            <ul className=\"list-none ml-0 space-y-2\">\n  {tasks.map((t, i) => (\n  <li\n    key={i}\n    className=\"flex flex-col bg-gray-100 p-2 rounded-lg hover:bg-gray-200 transition\"\n  >\n    <div className=\"flex justify-between items-center\">\n      <div>\n        <span className=\"font-medium\">{t.title}</span> ‚Äî {t.estimatedHours}h (Due {t.dueDate})\n      </div>\n      <button\n        onClick={() => handleDeleteTask(i)}\n        className=\"text-red-600 hover:text-red-800 font-bold\"\n        title=\"Delete task\"\n      >\n        ‚ùå\n      </button>\n    </div>\n\n    {/* Dependencies editor */}\n    <div className=\"mt-1\">\n      <span className=\"font-sm text-gray-600\">Dependencies:</span>\n      <div className=\"flex flex-wrap gap-2 mt-1\">\n        {tasks\n          .filter(task => task.title !== t.title)\n          .map((task, idx) => (\n            <label key={idx} className=\"flex items-center gap-1\">\n              <input\n                type=\"checkbox\"\n                checked={t.dependencies.includes(task.title)}\n                onChange={(e) => handleDependencyChange(i, task.title, e.target.checked)}\n              />\n              {task.title}\n            </label>\n          ))}\n      </div>\n    </div>\n  </li>\n))}\n\n</ul>\n\n          </div>\n        )}\n\n        <button\n          onClick={handleSchedule}\n          disabled={loading || tasks.length === 0}\n          className=\"mt-4 w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-xl transition-all\"\n        >\n          {loading ? \"Generating...\" : \"Generate Schedule\"}\n        </button>\n\n        {error && <p className=\"text-red-600 mt-2\">{error}</p>}\n\n        {recommendedOrder.length > 0 && (\n          <ScheduleResult recommendedOrder={recommendedOrder} />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}